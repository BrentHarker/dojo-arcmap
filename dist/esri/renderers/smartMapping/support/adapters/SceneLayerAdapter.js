//>>built
define("require exports ../../../../core/tsSupport/declareExtendsHelper ../../../../core/tsSupport/decorateHelper ../../../../core/promiseUtils ../../../../core/Error ./LayerAdapter ./FeatureLayerAdapter ../../../../core/accessorSupport/decorators".split(" "),function(d,n,h,k,e,f,l,m,g){d=function(d){function b(a){var c=d.call(this)||this;return c._layer=a.layer,c}return h(b,d),b.prototype.getField=function(a){return this._layer.getField(a)},b.prototype.getFieldUsageInfo=function(a){var c=this._layer;
return c.getField(a)?c.getFieldUsageInfo(a):null},b.prototype.getFieldDomain=function(a,c){return this._featureLayerAdapter?this._featureLayerAdapter.getFieldDomain(a,c):null},b.prototype.queryStatistics=function(a){return this._featureLayerAdapter?this._featureLayerAdapter.queryStatistics(a):e.reject(new f("scene-layer-adapter:not-supported","SceneLayer without companion FeatureLayer does not support statistics query"))},b.prototype.queryFeatureCount=function(a){return this._featureLayerAdapter?
this._featureLayerAdapter.queryFeatureCount(a):e.reject(new f("scene-layer-adapter:not-supported","SceneLayer without companion FeatureLayer does not support count query"))},b.prototype.generateRenderer=function(a){return this._featureLayerAdapter?this._featureLayerAdapter.generateRenderer(a):e.reject(new f("scene-layer-adapter:not-supported","SceneLayer without companion FeatureLayer does not support generateRenderer operation"))},b.prototype.getAllFeatures=function(a){return this._featureLayerAdapter?
this._featureLayerAdapter.getAllFeatures(a):e.reject(new f("scene-layer-adapter:not-supported","SceneLayer without companion FeatureLayer is not supported"))},b.prototype.load=function(){var a=this,c=this._layer,b=c.load().then(function(){var b=c.companionFeatureLayer;if(a.geometryType=c.geometryType,b)return a._featureLayerAdapter=new m({layer:b}),a._featureLayerAdapter.load().then(function(){a.objectIdField=a._featureLayerAdapter.objectIdField;a.supportsSQLExpression=a._featureLayerAdapter.supportsSQLExpression;
a.hasLocalSource=!1});a.objectIdField=c.objectIdField;a.supportsSQLExpression=!1;a.hasLocalSource=!0});return this.addResolvingPromise(b),this},b}(g.declared(l));return d=k([g.subclass()],d)});