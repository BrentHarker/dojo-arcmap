//>>built
define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ./support/widget ../core/accessorSupport/decorators ../core/watchUtils ./Widget ./ScaleBar/ScaleBarViewModel ../geometry/ScreenPoint dojo/dom-geometry dojo/i18n!./ScaleBar/nls/ScaleBar".split(" "),function(b,t,l,g,c,d,m,n,p,q,r,k){b=function(b){function e(a){a=b.call(this)||this;return a.unit="non-metric",a.view=null,a.viewModel=new p,a}return l(e,b),e.prototype.postInitialize=function(){var a=this;this.own([m.whenTrue(this,
"view.stationary",function(){return a.scheduleRender()})])},Object.defineProperty(e.prototype,"style",{set:function(a){this._set("style","dual"===this.unit?"line":a)},enumerable:!0,configurable:!0}),e.prototype.castStyle=function(a){return"line"===a?a:"ruler"},e.prototype.castUnit=function(a){return"metric"===a||"dual"===a?a:"non-metric"},e.prototype.render=function(){var a,h,b="disabled"===this.get("viewModel.state"),e=(d={},d["esri-disabled"]=b,d);if(!b){var f=this.unit,b=this.style,d="metric"===
f||"dual"===f;if("non-metric"===f||"dual"===f)h=this.viewModel.getScaleBarProperties(50,"non-metric"),h="ruler"===b?this._renderRuler(h):this._renderLine(h,"bottom");d&&(a=this.viewModel.getScaleBarProperties(50,"metric"),a="ruler"===b?this._renderRuler(a):this._renderLine(a,"top"))}return c.tsx("div",{afterCreate:this._handleRootCreation,bind:this,"class":"esri-scale-bar esri-widget",classes:e},a,h);var d},e.prototype._renderRuler=function(a){var b=2*a.value+" "+(k[a.unit]||k.unknownUnit);return c.tsx("div",
{"class":"esri-scale-bar__bar-container",styles:{width:2*Math.round(a.length)+"px"},key:"esri-scale-bar__ruler"},c.tsx("div",{"class":"esri-scale-bar__ruler"},c.tsx("div",{"class":"esri-scale-bar__ruler-block"}),c.tsx("div",{"class":"esri-scale-bar__ruler-block"}),c.tsx("div",{"class":"esri-scale-bar__ruler-block"}),c.tsx("div",{"class":"esri-scale-bar__ruler-block"})),c.tsx("div",{"class":"esri-scale-bar__label-container"},c.tsx("div",{"class":"esri-scale-bar__label"},"0"),c.tsx("div",{"class":"esri-scale-bar__label"},
a.value),c.tsx("div",{"class":"esri-scale-bar__label"},b)))},e.prototype._renderLine=function(a,b){var d=2*a.value+" "+(k[a.unit]||k.unknownUnit),d=c.tsx("div",{"class":c.join("esri-scale-bar__label-container","esri-scale-bar__label-container--line"),key:"esri-scale-bar__label"},c.tsx("div",{"class":"esri-scale-bar__label"},d)),e=(f={},f["esri-scale-bar__line--top"]="top"===b,f["esri-scale-bar__line--bottom"]="bottom"===b,f),f=c.tsx("div",{"class":"esri-scale-bar__line",classes:e,key:"esri-scale-bar__line"});
return c.tsx("div",{"class":"esri-scale-bar__bar-container",styles:{width:2*Math.round(a.length)+"px"},key:"esri-scale-bar__line-container"},"top"===b?[d,f]:[f,d]);var f},e.prototype._handleRootCreation=function(a){var b=this.viewModel;b&&(a=r.position(a,!0),b.scaleComputedFrom=new q({x:a.x,y:a.y}))},e}(d.declared(n));return g([d.property({dependsOn:["unit"]}),c.renderable()],b.prototype,"style",null),g([d.cast("style")],b.prototype,"castStyle",null),g([d.property(),c.renderable()],b.prototype,"unit",
void 0),g([d.cast("unit")],b.prototype,"castUnit",null),g([d.aliasOf("viewModel.view"),c.renderable()],b.prototype,"view",void 0),g([d.property(),c.renderable(["viewModel.state"])],b.prototype,"viewModel",void 0),b=g([d.subclass("esri.widgets.ScaleBar")],b)});