//>>built
define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper dojo/errors/CancelError ../request ../core/accessorSupport/decorators ../core/promiseUtils ../core/Error ./Layer".split(" "),function(a,q,l,d,m,h,c,n,k,p){a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return l(b,a),b.prototype.getImageUrl=function(a,b,c,e){throw new k("dynamiclayer:getImageUrl-not-implemented","getImageUrl() is not implemented");},b.prototype.fetchImage=function(a,
b,c,e){var f,g;a=this.getImageUrl(a,b,c,e);var d={responseType:"image",allowImageDataAccess:e&&e.allowImageDataAccess||!1};return"string"==typeof a?(f=a,g=h(a,d)):g=a.then(function(a){return f=a,h(f,d)}),g.then(function(a){return a.data}).otherwise(function(a){return n.reject(a instanceof m?a:new k("dynamiclayer:image-fetch-error","Unable to load image: "+f))})},b}(c.declared(p));return d([c.shared({"2d":"../views/2d/layers/MapImageLayerView2D","3d":"../views/3d/layers/DynamicLayerView3D"})],a.prototype,
"viewModulePaths",void 0),a=d([c.subclass("esri.layers.DynamicLayer")],a)});