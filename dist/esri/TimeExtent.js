//>>built
define(["./core/declare","dojo/_base/lang"],function(h,k){var g=h(null,{declaredClass:"esri.TimeExtent",constructor:function(a){if(1<arguments.length)this._create(arguments[0],arguments[1]);else if(a)if(k.isArray(a)){var b=a[0],c=a[1];this.startTime=null===b||"null"===b?null:new Date(b);this.endTime=null===c||"null"===c?null:new Date(c)}else a instanceof Date&&this._create(a,null)},offset:function(a,b){var c=new g,d=this.startTime,e=this.endTime;return d&&(c.startTime=this._getOffsettedDate(d,a,b)),
e&&(c.endTime=this._getOffsettedDate(e,a,b)),c},intersection:function(a){return this._intersection(this,a)},toJSON:function(){var a=[],b=this.startTime;a.push(b?b.getTime():"null");b=this.endTime;return a.push(b?b.getTime():"null"),a},_create:function(a,b){this.startTime=a?new Date(a.getTime()):null;this.endTime=b?new Date(b.getTime()):null},_refData:{esriTimeUnitsMilliseconds:{getter:"getUTCMilliseconds",setter:"setUTCMilliseconds",multiplier:1},esriTimeUnitsSeconds:{getter:"getUTCSeconds",setter:"setUTCSeconds",
multiplier:1},esriTimeUnitsMinutes:{getter:"getUTCMinutes",setter:"setUTCMinutes",multiplier:1},esriTimeUnitsHours:{getter:"getUTCHours",setter:"setUTCHours",multiplier:1},esriTimeUnitsDays:{getter:"getUTCDate",setter:"setUTCDate",multiplier:1},esriTimeUnitsWeeks:{getter:"getUTCDate",setter:"setUTCDate",multiplier:7},esriTimeUnitsMonths:{getter:"getUTCMonth",setter:"setUTCMonth",multiplier:1},esriTimeUnitsYears:{getter:"getUTCFullYear",setter:"setUTCFullYear",multiplier:1},esriTimeUnitsDecades:{getter:"getUTCFullYear",
setter:"setUTCFullYear",multiplier:10},esriTimeUnitsCenturies:{getter:"getUTCFullYear",setter:"setUTCFullYear",multiplier:100}},_intersection:function(a,b){if(a&&b){var c=a.startTime;a=a.endTime;var d=b.startTime;b=b.endTime;c=c?c.getTime():-(1/0);d=d?d.getTime():-(1/0);a=a?a.getTime():1/0;b=b?b.getTime():1/0;var e,f;if(d>=c&&a>=d?e=d:c>=d&&b>=c&&(e=c),a>=d&&b>=a?f=a:b>=c&&a>=b&&(f=b),isNaN(e)||isNaN(f))return null;c=new g;return c.startTime=e===-(1/0)?null:new Date(e),c.endTime=f===1/0?null:new Date(f),
c}return null},_getOffsettedDate:function(a,b,c){var d=this._refData;a=new Date(a.getTime());return b&&c&&(d=d[c],a[d.setter](a[d.getter]()+b*d.multiplier)),a}});return g});