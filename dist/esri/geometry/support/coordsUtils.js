//>>built
define([],function(){var r=function(a,d,b){for(var e,c,f,g=b[0],k=b[1],m=0,h=0,l=d.length;l>h;h++)m++,m===l&&(m=0),b=d[h][0],e=d[m][0],c=d[h][1],f=d[m][1],(k>c&&f>=k||k>f&&c>=k)&&g>b+(k-c)/(f-c)*(e-b)&&(a=!a);return a},x=function(a,d,b){for(var e,c,f,g,k,m,h,l,n,w=0,q=0,p=0,t=0,u=0,v=0,r=d.length-1;r>v;v++)e=d[v],c=e[0],f=e[1],g=e[2],k=d[v+1],m=k[0],h=k[1],l=k[2],n=c*h-m*f,t+=n,w+=(c+m)*n,q+=(f+h)*n,b&&2<e.length&&2<k.length&&(n=c*l-m*g,p+=(g+l)*n,u+=n);return 0<t&&(t*=-1),0<u&&(u*=-1),t?(a[0]=w,
a[1]=q,a[2]=.5*t,b?(a[3]=p,a[4]=.5*u):a.length=3):a.length=0,a},y=function(a,d){for(var b,e,c,f=0,g=0,k=0,m=0,h=d?[0,0,0]:[0,0],l=d?[0,0,0]:[0,0],n=0,r=a.length;r-1>n;n++)if(b=a[n],e=a[n+1],b&&e){h[0]=b[0];h[0]=b[1];l[0]=e[0];l[0]=e[1];d&&2<b.length&&2<e.length&&(h[2]=b[2],l[2]=e[2]);c=l[0]-h[0];var q=l[1]-h[1],p=0;if(c=(1<h.length&&1<l.length&&(p=h[2]-l[2]),Math.sqrt(c*c+q*q+p*p)))f+=c,p=b[0]+.5*(e[0]-b[0]),q=b[1]+.5*(e[1]-b[1]),b=2<b.length&&2<e.length?[p,q,b[2]+.5*(e[2]-b[2])]:[p,q],g+=c*b[0],
k+=c*b[1],d&&2<b.length&&(m+=c*b[2])}return 0<f?d?[g/f,k/f,m/f]:[g/f,k/f]:a.length?a[0]:null};return{fromGeom:function(a){if(!a)return null;if(Array.isArray(a))return a;var d=a.hasZ,b=a.hasM;return"point"===a.type?b&&d?[a.x,a.y,a.z,a.m]:d?[a.x,a.y,a.z]:b?[a.x,a.y,a.m]:[a.x,a.y]:"polygon"===a.type?a.rings.slice(0):"polyline"===a.type?a.path.slice(0):"multipoint"===a.type?a.points.slice(0):"extent"===a.type?(a=a.clone().normalize())?(d=b=!1,a.map(function(a){a.hasZ&&(d=!0);a.hasM&&(b=!0)}),a.map(function(a){var c=
[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(d&&a.hasZ)for(var e=.5*(a.zmax-a.zmin),g=0;g<c.length;g++)c[g].push(e);if(b&&a.hasM)for(a=.5*(a.mmax-a.mmin),g=0;g<c.length;g++)c[g].push(a);return c})):null:null},contains:function(a,d){if(!a)return!1;if(!Array.isArray(a[0][0]))return r(!1,a,d);for(var b=!1,e=0,c=a.length;c>e;e++)b=r(b,a[e],d);return b},centroid:function(a,d,b){for(var e,c=[],f=0,g=d.length;g>f;f++)e=x([],d[f],b),e.length&&c.push(e);(c.sort(function(a,
c){var d=a[2]-c[2];return 0===d&&b&&(d=a[4]-c[4]),d}),b?a.length=3:a.length=2,c.length)?(d=6*c[0][2],a[0]=c[0][0]/d,a[1]=c[0][1]/d,b&&(d=6*c[0][4],0!==d?a[2]=c[0][3]/d:a[2]=0)):(c=d[0]&&d[0].length?y(d[0]):null)&&(a[0]=c[0],a[1]=c[1],b&&2<c.length&&(a[2]=c[2]));return a},isClockwise:function(a){for(var d=0,b=0,e=b+1,c=a.length;c>b;b++,e+=1%c)d+=a[b][0]*a[e][1]-a[e][0]*a[b][1];return 0>=.5*d}}});