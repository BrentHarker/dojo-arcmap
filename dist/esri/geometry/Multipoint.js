//>>built
define("dojo/_base/lang ./SpatialReference ./Geometry ./Point ./Extent ./support/zmUtils".split(" "),function(l,B,C,m,D,k){var n=C.createSubclass({declaredClass:"esri.geometry.Multipoint",type:"multipoint",getDefaults:function(a){return{points:[]}},normalizeCtorArgs:function(a,b){var c,e,f=null,g=null;return a&&!Array.isArray(a)?a.wkid?b=a:(f=a.points||null,b=a.spatialReference||null,c=a.hasZ,e=a.hasM):f=a,f=f||[],b=b||B.WGS84,g=f[0],g&&(void 0===c&&void 0===e?(c=2<g.length,e=!1):void 0===c?c=3<g.length:
void 0===e&&(e=3<g.length)),{points:f,spatialReference:b,hasZ:c,hasM:e}},properties:{cache:{dependsOn:["points","hasZ","hasM"]},extent:{dependsOn:["cache"],get:function(a){function b(a){return function(b,c){return null==b?c:null==c?b:a(b,c)}}if(!this.points.length)return null;var c,e,f,g,k,t,u,v,w,p,l,d=a||new D,x=this.points,y=this.hasZ,m=this.hasM,h=x[0],q=b(Math.min),r=b(Math.max),z=a=h[0],A=f=h[1],n=y?3:2;p=0;for(l=x.length;l>p;p++)h=x[p],t=h[0],u=h[1],z=q(z,t),A=q(A,u),a=r(a,t),f=r(f,u),y&&2<
h.length&&(v=h[2],c=q(c,v),g=r(g,v)),m&&h.length>n&&(w=h[n],e=q(e,w),k=r(k,w));return d.xmin=z,d.ymin=A,d.xmax=a,d.ymax=f,d.spatialReference=this.spatialReference,y?(d.zmin=c,d.zmax=g):(d.zmin=null,d.zmax=null),m?(d.mmin=e,d.mmax=k):(d.mmin=null,d.mmax=null),d}},points:null},addPoint:function(a){return this.clearCache(),k.updateSupportFromPoint(this,a),Array.isArray(a)?this.points.push(a):this.points.push(a.toArray()),this},clone:function(){var a={points:l.clone(this.points),spatialReference:this.spatialReference};
return this.hasZ&&(a.hasZ=!0),this.hasM&&(a.hasM=!0),new n(a)},getPoint:function(a){if(this._validateInputs(a)){var b,c;a=this.points[a];var e=2;return this.hasZ&&(b=a[2],e=3),this.hasM&&(c=a[e]),new m({x:a[0],y:a[1],z:b,m:c,spatialReference:this.spatialReference})}},removePoint:function(a){return this._validateInputs(a)?(this.clearCache(),new m(this.points.splice(a,1)[0],this.spatialReference)):void 0},setPoint:function(a,b){return this._validateInputs(a)?(this.clearCache(),k.updateSupportFromPoint(b),
this.points[a]=b.toArray(),this):void 0},toJSON:function(){var a=this.spatialReference,a={points:l.clone(this.points),spatialReference:a&&a.toJSON()};return this.hasZ&&(a.hasZ=!0),this.hasM&&(a.hasM=!0),a},_pointsToArrays:function(a){for(var b=0;b<a.points.length;b++){var c=a.points[b];k.updateSupportFromPoint(a,c,!0);Array.isArray(c)||(a.spatialReference||(a.spatialReference=c.spatialReference),a.points[b]=c.toArray())}return a},_validateInputs:function(a){return null!=a&&0<=a&&a<this.points.length}});
return n});