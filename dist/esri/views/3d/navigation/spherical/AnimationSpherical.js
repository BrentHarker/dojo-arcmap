//>>built
define(["../mixins/AnimationMixin","../../lib/glMatrix","../../support/mathUtils"],function(k,g,e){function v(b,a){var d=a[0]-b[0],c=a[1]-b[1],e=a[2]-b[2];b=a[3]-b[3];return d*d+c*c+e*e+b*b}function w(b,a){return Math.sqrt(v(b,a))}function x(b){this.interpolate=function(a,d,c){c=Math.min(9*c,.3);e.slerpOrLerp(a.center,d.center,c,a.center,l);e.slerpOrLerp(a.eye,d.eye,c,a.eye,l);e.slerp(a.up,d.up,c);a.fov=e.lerp(a.fov,d.fov,c);a.padding=m.lerp(a.padding,d.padding,c,p);a.computeUpOnSphere()}}function y(b,
a,d){a=a||250;d=d||a;var c=0,g=0,q=0,r=0,k=function(h,c,e,f,z){return b.easeInOutInterpLinear(d,a,h,c,e,f,z)},n=function(c,b,t,f){var h=u.dist(c,b);if(.1>h)return u.set(b,c),0;f=Math.min(f+d*t,Math.min(Math.sqrt(h*d),a));return e.slerpOrLerp(c,b,Math.min(f/h*t,1),c,l),f};this.interpolate=function(a,b,d){c=n(a.eye,b.eye,d,c);g=n(a.center,b.center,d,g);r=n(a.padding,b.padding,d,r,{dist:w,lerp:function(a,b,c){return m.lerp(a,b,c,p)},set:function(b){a.padding=b}});q=k(a.fov,b.fov,d,q,{dist:function(a,
b){return Math.abs(b-a)},lerp:e.lerp,set:function(b){a.fov=b}});a.computeUpOnSphere()}}var u=g.vec3d,m=g.vec4d,p=m.create(),l=1E-4;return k.createSubclass({declaredClass:"esri.views.3d.navigation.spherical.AnimationSpherical",constructor:function(){this.interpolationTypes={linear:x,easeInOut:y}}})});