//>>built
define("require exports ../geometry/Polygon ../Graphic ../geometry/Polyline ../geometry/Point ../geometry/Extent ../geometry/Multipoint ../geometry/SpatialReference ./languageUtils ./treeAnalysis ./Dictionary ./Feature ./FunctionWrapper ./functions/date ./functions/string ./functions/maths ./functions/geometry ./functions/stats ./ImmutablePathArray ./ImmutablePointArray ../geometry/Geometry".split(" "),function(na,w,Q,R,S,T,U,V,W,c,h,y,z,E,X,Y,Z,aa,ba,B,ca,I){function J(b,a){for(var c=[],e=0;e<a.arguments.length;e++)c.push(g(b,
a.arguments[e]));return c}function n(b,a,c){try{return c(b,a,J(b,a))}catch(e){throw e;}}function g(b,a){try{switch(a.type){case "EmptyStatement":return c.voidOperation;case "VariableDeclarator":var f=null===a.init?null:g(b,a.init);f===c.voidOperation&&(f=null);var e=a.id.name.toLowerCase();return null!==b.localScope?b.localScope[e]={value:f,valueset:!0,node:a.init}:b.globalScope[e]={value:f,valueset:!0,node:a.init},c.voidOperation;case "VariableDeclaration":for(var d=0;d<a.declarations.length;d++)g(b,
a.declarations[d]);return c.voidOperation;case "BlockStatement":var k;a:{for(var x=c.voidOperation,d=0;d<a.body.length;d++)if(x=g(b,a.body[d]),x instanceof c.ReturnResult||x===c.breakResult||x===c.continueResult){k=x;break a}k=x}return k;case "FunctionDeclaration":var da=a.id.name.toLowerCase();return b.globalScope[da]={valueset:!0,node:null,value:new E(a,b)},c.voidOperation;case "ReturnStatement":var G;if(null===a.argument)G=new c.ReturnResult(c.voidOperation);else{var ea=g(b,a.argument);G=new c.ReturnResult(ea)}return G;
case "IfStatement":var q;if("AssignmentExpression"===a.test.type||"UpdateExpression"===a.test.type)throw Error(h.nodeErrorMessage(a.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));var n=g(b,a.test);if(!0===n)q=g(b,a.consequent);else if(!1===n)q=null!==a.alternate?g(b,a.alternate):c.voidOperation;else throw Error(h.nodeErrorMessage(a,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"));return q;case "ExpressionStatement":var t;if("AssignmentExpression"===a.expression.type||"UpdateExpression"===a.expression.type)t=
g(b,a.expression);else{var w=g(b,a.expression);t=w===c.voidOperation?c.voidOperation:new c.ImplicitResult(w)}return t;case "AssignmentExpression":var l;var u=g(b,a.right),d=null,m="";if("MemberExpression"===a.left.type){if(d=g(b,a.left.object),m=!0===a.left.computed?g(b,a.left.property):a.left.property.name,c.isArray(d)){if(!c.isNumber(m))throw Error("Invalid Parameter");if(0>m&&(m=d.length+m),0>m||m>d.length)throw Error("Assignment outside of array bounds");if(m===d.length&&"\x3d"!==a.operator)throw Error("Invalid Parameter");
d[m]=C(u,a.operator,d[m],a)}else{if(d instanceof y){if(!1===c.isString(m))throw Error("Dictionary accessor must be a string");}else{if(!(d instanceof z))throw c.isImmutableArray(d)?Error("Array is Immutable"):Error("Invalid Parameter");if(!1===c.isString(m))throw Error("Feature accessor must be a string");}if(!0===d.hasField(m))d.setField(m,C(u,a.operator,d.field(m),a));else{if("\x3d"!==a.operator)throw Error("Invalid Parameter");d.setField(m,C(u,a.operator,null,a))}}l=c.voidOperation}else if(d=a.left.name.toLowerCase(),
null!==b.localScope&&void 0!==b.localScope[d])l=(b.localScope[d]={value:C(u,a.operator,b.localScope[d].value,a),valueset:!0,node:a.right},c.voidOperation);else if(void 0!==b.globalScope[d])l=(b.globalScope[d]={value:C(u,a.operator,b.globalScope[d].value,a),valueset:!0,node:a.right},c.voidOperation);else throw Error("Variable not recognised");return l;case "UpdateExpression":var p,d=null;l="";if("MemberExpression"===a.argument.type){if(d=g(b,a.argument.object),l=!0===a.argument.computed?g(b,a.argument.property):
a.argument.property.name,c.isArray(d)){if(!c.isNumber(l))throw Error("Invalid Parameter");if(0>l&&(l=d.length+l),0>l||l>=d.length)throw Error("Assignment outside of array bounds");p=c.toNumber(d[l]);d[l]="++"===a.operator?p+1:p-1}else{if(d instanceof y){if(!1===c.isString(l))throw Error("Dictionary accessor must be a string");}else{if(!(d instanceof z))throw c.isImmutableArray(d)?Error("Array is Immutable"):Error("Invalid Parameter");if(!1===c.isString(l))throw Error("Feature accessor must be a string");
}if(!0!==d.hasField(l))throw Error("Invalid Parameter");p=c.toNumber(d.field(l));d.setField(l,"++"===a.operator?p+1:p-1)}m=!1===a.prefix?p:"++"===a.operator?p+1:p-1}else if(d=a.argument.name.toLowerCase(),null!==b.localScope&&void 0!==b.localScope[d])m=(p=c.toNumber(b.localScope[d].value),b.localScope[d]={value:"++"===a.operator?p+1:p-1,valueset:!0,node:a},!1===a.prefix?p:"++"===a.operator?p+1:p-1);else if(void 0!==b.globalScope[d])m=(p=c.toNumber(b.globalScope[d].value),b.globalScope[d]={value:"++"===
a.operator?p+1:p-1,valueset:!0,node:a},!1===a.prefix?p:"++"===a.operator?p+1:p-1);else throw Error("Variable not recognised");return m;case "BreakStatement":return c.breakResult;case "ContinueStatement":return c.continueResult;case "ForStatement":null!==a.init&&g(b,a.init);d={testResult:!0,lastAction:c.voidOperation};do a:{l=b;u=a;m=d;if(null!==u.test){if(m.testResult=g(l,u.test),!1===m.testResult)break a;if(!0!==m.testResult)throw Error(h.nodeErrorMessage(u,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"));
}m.lastAction=g(l,u.body);m.lastAction===c.breakResult?m.testResult=!1:m.lastAction instanceof c.ReturnResult?m.testResult=!1:null!==u.update&&g(l,u.update)}while(!0===d.testResult);return d.lastAction instanceof c.ReturnResult?d.lastAction:c.voidOperation;case "ForInStatement":return fa(b,a);case "Identifier":var v;var r;try{var F=a.name.toLowerCase();if(null!==b.localScope&&void 0!==b.localScope[F])v=(r=b.localScope[F],!0===r.valueset?r.value:(r.value=g(b,r.node),r.valueset=!0,r.value));else if(void 0!==
b.globalScope[F])v=(r=b.globalScope[F],!0===r.valueset?r.value:(r.value=g(b,r.node),r.valueset=!0,r.value));else throw Error(h.nodeErrorMessage(a,"RUNTIME","VARIABLENOTFOUND"));}catch(D){throw D;}return v;case "MemberExpression":return ga(b,a);case "Literal":return a.value;case "ThisExpression":throw Error(h.nodeErrorMessage(a,"RUNTIME","NOTSUPPORTED"));case "CallExpression":return ha(b,a);case "UnaryExpression":return ia(b,a);case "BinaryExpression":return ja(b,a);case "LogicalExpression":return ka(b,
a);case "ConditionalExpression":throw Error(h.nodeErrorMessage(a,"RUNTIME","NOTSUPPORTED"));case "ArrayExpression":try{for(d=[],l=0;l<a.elements.length;l++){var H=g(b,a.elements[l]);if(c.isFunctionParameter(H))throw Error(h.nodeErrorMessage(a,"RUNTIME","FUNCTIONCONTEXTILLEGAL"));H===c.voidOperation?d.push(null):d.push(H)}}catch(D){throw D;}return d;case "ObjectExpression":d={};for(l=0;l<a.properties.length;l++){var A=g(b,a.properties[l]);if(c.isFunctionParameter(A.value))throw Error("Illegal Argument");
if(!1===c.isString(A.key))throw Error("Illegal Argument");A.value===c.voidOperation?d[A.key.toString()]=null:d[A.key.toString()]=A.value}var B=new y(d);return B.immutable=!1,B;case "Property":return{key:"Identifier"===a.key.type?a.key.name:g(b,a.key),value:g(b,a.value)};case "Array":throw Error(h.nodeErrorMessage(a,"RUNTIME","NOTSUPPORTED"));default:throw Error(h.nodeErrorMessage(a,"RUNTIME","UNREOGNISED"));}}catch(D){throw D;}}function fa(b,a){var f=g(b,a.right);"VariableDeclaration"===a.left.type&&
g(b,a.left);var e=null,d="VariableDeclaration"===a.left.type?a.left.declarations[0].id.name:a.left.name;if(null!==b.localScope&&void 0!==b.localScope[d]&&(e=b.localScope[d]),null===e&&void 0!==b.globalScope[d]&&(e=b.globalScope[d]),null===e)throw Error(h.nodeErrorMessage(a,"RUNTIME","VARIABLENOTDECLARED"));if(c.isArray(f)||c.isString(f)){for(var f=f.length,k=0;f>k;k++){e.value=k;d=g(b,a.body);if(d===c.breakResult)break;if(d instanceof c.ReturnResult)return d}return c.voidOperation}if(c.isImmutableArray(f)){for(k=
0;k<f.length();k++){e.value=k;d=g(b,a.body);if(d===c.breakResult)break;if(d instanceof c.ReturnResult)return d}return c.voidOperation}if(!(f instanceof y||f instanceof z))return c.voidOperation;f=f.keys();for(k=0;k<f.length;k++){e.value=f[k];d=g(b,a.body);if(d===c.breakResult)break;if(d instanceof c.ReturnResult)return d}}function C(b,a,f,e){switch(a){case "\x3d":return b===c.voidOperation?null:b;case "/\x3d":return c.toNumber(f)/c.toNumber(b);case "*\x3d":return c.toNumber(f)*c.toNumber(b);case "-\x3d":return c.toNumber(f)-
c.toNumber(b);case "+\x3d":return c.isString(f)||c.isString(b)?c.toString(f)+c.toString(b):c.toNumber(f)+c.toNumber(b);case "%\x3d":return c.toNumber(f)%c.toNumber(b);default:throw Error(h.nodeErrorMessage(e,"RUNTIME","OPERATORNOTRECOGNISED"));}}function K(b,a,f,e){switch(a=a.toLowerCase()){case "hasz":return b=b.hasZ,void 0===b?!1:b;case "hasm":return b=b.hasM,void 0===b?!1:b;case "spatialreference":return a=b.spatialReference._arcadeCacheId,void 0===a&&(f=!0,Object.freeze&&Object.isFrozen(b.spatialReference)&&
(f=!1),f&&(t++,b.spatialReference._arcadeCacheId=t,a=t)),b=new y({wkt:b.spatialReference.wkt,wkid:b.spatialReference.wkid}),void 0!==a&&(b._arcadeCacheId="SPREF"+a.toString()),b}switch(b.type){case "extent":switch(a){case "xmin":case "xmax":case "ymin":case "ymax":case "zmin":case "zmax":case "mmin":case "mmax":return b=b[a],void 0!==b?b:null;case "type":return"Extent"}break;case "polygon":switch(a){case "rings":return a=c.isVersion4?b.cache._arcadeCacheId:b.getCacheValue("_arcadeCacheId"),void 0===
a&&(t++,a=t,c.isVersion4?b.cache._arcadeCacheId=a:b.setCacheValue("_arcadeCacheId",a)),b=new B(b.rings,b.spatialReference,!0===b.hasZ,!0===b.hasM,a);case "type":return"Polygon"}break;case "point":switch(a){case "x":case "y":case "z":case "m":return void 0!==b[a]?b[a]:null;case "type":return"Point"}break;case "polyline":switch(a){case "paths":return a=c.isVersion4?b.cache._arcadeCacheId:b.getCacheValue("_arcadeCacheId"),void 0===a&&(t++,a=t,c.isVersion4?b.cache._arcadeCacheId=a:b.setCacheValue("_arcadeCacheId",
a)),b=new B(b.paths,b.spatialReference,!0===b.hasZ,!0===b.hasM,a);case "type":return"Polyline"}break;case "multipoint":switch(a){case "points":return a=c.isVersion4?b.cache._arcadeCacheId:b.getCacheValue("_arcadeCacheId"),void 0===a&&(t++,a=t,c.isVersion4?b.cache._arcadeCacheId=a:b.setCacheValue("_arcadeCacheId",a)),b=new ca(b.points,b.spatialReference,!0===b.hasZ,!0===b.hasM,a,1);case "type":return"Multipoint"}}throw Error(h.nodeErrorMessage(e,"RUNTIME","PROPERTYNOTFOUND"));}function ga(b,a){try{var f=
g(b,a.object);if(null===f)throw Error(h.nodeErrorMessage(a,"RUNTIME","NOTFOUND"));if(!1===a.computed){if(f instanceof y||f instanceof z)return f.field(a.property.name);if(f instanceof I)return K(f,a.property.name,b,a);throw Error(h.nodeErrorMessage(a,"RUNTIME","INVALIDTYPE"));}var e=g(b,a.property);if(f instanceof y||f instanceof z){if(c.isString(e))return f.field(e);throw Error(h.nodeErrorMessage(a,"RUNTIME","INVALIDTYPE"));}if(f instanceof I){if(c.isString(e))return K(f,e,b,a);throw Error(h.nodeErrorMessage(a,
"RUNTIME","INVALIDTYPE"));}if(c.isArray(f)){if(c.isNumber(e)&&isFinite(e)&&Math.floor(e)===e){if(0>e&&(e=f.length+e),e>=f.length||0>e)throw Error(h.nodeErrorMessage(a,"RUNTIME","OUTOFBOUNDS"));return f[e]}throw Error(h.nodeErrorMessage(a,"RUNTIME","INVALIDTYPE"));}if(c.isString(f)){if(c.isNumber(e)&&isFinite(e)&&Math.floor(e)===e){if(0>e&&(e=f.length+e),e>=f.length||0>e)throw Error(h.nodeErrorMessage(a,"RUNTIME","OUTOFBOUNDS"));return f[e]}throw Error(h.nodeErrorMessage(a,"RUNTIME","INVALIDTYPE"));
}if(c.isImmutableArray(f)&&c.isNumber(e)&&isFinite(e)&&Math.floor(e)===e){if(0>e&&(e=f.length()+e),e>=f.length()||0>e)throw Error(h.nodeErrorMessage(a,"RUNTIME","OUTOFBOUNDS"));return f.get(e)}throw Error(h.nodeErrorMessage(a,"RUNTIME","INVALIDTYPE"));}catch(d){throw d;}}function ia(b,a){try{var f=g(b,a.argument);if(c.isBoolean(f)){if("!"===a.operator)return!f;if("-"===a.operator)return-1*c.toNumber(f);if("+"===a.operator)return 1*c.toNumber(f);throw Error(h.nodeErrorMessage(a,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));
}if("-"===a.operator)return-1*c.toNumber(f);if("+"===a.operator)return 1*c.toNumber(f);throw Error(h.nodeErrorMessage(a,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}catch(e){throw e;}}function ja(b,a){try{var f=[g(b,a.left),g(b,a.right)],e=f[0],d=f[1];switch(a.operator){case "\x3d\x3d":return c.equalityTest(e,d);case "\x3d":return c.equalityTest(e,d);case "!\x3d":return!c.equalityTest(e,d);case "\x3c":return c.greaterThanLessThan(e,d,a.operator);case "\x3e":return c.greaterThanLessThan(e,d,a.operator);
case "\x3c\x3d":return c.greaterThanLessThan(e,d,a.operator);case "\x3e\x3d":return c.greaterThanLessThan(e,d,a.operator);case "+":return c.isString(e)||c.isString(d)?c.toString(e)+c.toString(d):c.toNumber(e)+c.toNumber(d);case "-":return c.toNumber(e)-c.toNumber(d);case "*":return c.toNumber(e)*c.toNumber(d);case "/":return c.toNumber(e)/c.toNumber(d);case "%":return c.toNumber(e)%c.toNumber(d);default:throw Error(h.nodeErrorMessage(a,"RUNTIME","OPERATORNOTRECOGNISED"));}}catch(k){throw k;}}function ka(b,
a){try{if("AssignmentExpression"===a.left.type||"UpdateExpression"===a.left.type)throw Error(h.nodeErrorMessage(a.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===a.right.type||"UpdateExpression"===a.right.type)throw Error(h.nodeErrorMessage(a.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));var f=g(b,a.left);if(!c.isBoolean(f))throw Error(h.nodeErrorMessage(a,"RUNTIME","ONLYBOOLEAN"));switch(a.operator){case "||":if(!0===f)return f;var e=g(b,a.right);if(c.isBoolean(e))return e;
throw Error(h.nodeErrorMessage(a,"RUNTIME","ONLYORORAND"));case "\x26\x26":if(!1===f)return f;e=g(b,a.right);if(c.isBoolean(e))return e;throw Error(h.nodeErrorMessage(a,"RUNTIME","ONLYORORAND"));default:throw Error(h.nodeErrorMessage(a,"RUNTIME","ONLYORORAND"));}}catch(d){throw d;}}function ha(b,a){try{if("Identifier"!==a.callee.type)throw Error(h.nodeErrorMessage(a,"RUNTIME","ONLYNODESSUPPORTED"));if(null!==b.localScope&&void 0!==b.localScope[a.callee.name.toLowerCase()]){var f=b.localScope[a.callee.name.toLowerCase()];
if(f.value instanceof c.NativeFunction)return f.value.fn(b,a);if(f.value instanceof E)return L(b,a,f.value.definition);throw Error(h.nodeErrorMessage(a,"RUNTIME","NOTAFUNCTION"));}if(void 0!==b.globalScope[a.callee.name.toLowerCase()]){f=b.globalScope[a.callee.name.toLowerCase()];if(f.value instanceof c.NativeFunction)return f.value.fn(b,a);if(f.value instanceof E)return L(b,a,f.value.definition);throw Error(h.nodeErrorMessage(a,"RUNTIME","NOTAFUNCTION"));}throw Error(h.nodeErrorMessage(a,"RUNTIME",
"NOTFOUND"));}catch(e){throw e;}}function M(b){return null==b?"":c.isArray(b)?"Array":c.isImmutableArray(b)?"Array":c.isDate(b)?"Date":c.isString(b)?"String":c.isBoolean(b)?"Boolean":c.isNumber(b)?"Number":b instanceof y?"Dictionary":b instanceof z?"Feature":b instanceof T?"Point":b instanceof Q?"Polygon":b instanceof S?"Polyline":b instanceof V?"Multipoint":b instanceof U?"Extent":c.isFunctionParameter(b)?"Function":b===c.voidOperation?"":"number"==typeof b&&isNaN(b)?"Number":"Unrecognised Type"}
function N(b,a,f,e){try{var d=g(b,a.arguments[f]);if(c.equalityTest(d,e))return g(b,a.arguments[f+1]);var k=a.arguments.length-f;return 1===k?g(b,a.arguments[f]):2===k?null:3===k?g(b,a.arguments[f+2]):N(b,a,f+2,e)}catch(x){throw x;}}function O(b,a,f,e){try{if(!0===e)return g(b,a.arguments[f+1]);if(3===a.arguments.length-f)return g(b,a.arguments[f+2]);var d=g(b,a.arguments[f+2]);if(!1===c.isBoolean(d))throw Error("WHEN needs boolean test conditions");return O(b,a,f+2,d)}catch(k){throw k;}}function v(b,
a){var c=b.length,e=Math.floor(c/2);if(0===c)a=[];else if(1===c)a=[b[0]];else{var d=v(b.slice(0,e),a);b=v(b.slice(e,c),a);for(c=[];0<d.length||0<b.length;)0<d.length&&0<b.length?(e=a(d[0],b[0]),isNaN(e)&&(e=0),0>=e?(c.push(d[0]),d=d.slice(1)):(c.push(b[0]),b=b.slice(1))):0<d.length?(c.push(d[0]),d=d.slice(1)):0<b.length&&(c.push(b[0]),b=b.slice(1));a=c}return a}function P(b,a,f){try{var e=b.body;if(f.length!==b.params.length)throw Error("Invalid Parameter calls to function.");for(var d=0;d<f.length;d++)a.localScope[b.params[d].name.toLowerCase()]=
{d:null,value:f[d],valueset:!0,node:null};var k=g(a,e);if(k instanceof c.ReturnResult)return k.value;if(k===c.breakResult)throw Error("Cannot Break from a Function");if(k===c.continueResult)throw Error("Cannot Continue from a Function");return k instanceof c.ImplicitResult?k.value:k}catch(x){throw x;}}function L(b,a,c){return n(b,a,function(a,d,f){a={spatialReference:b.spatialReference,applicationCache:void 0===b.applicationCache?null:b.applicationCache,globalScope:b.globalScope,depthCounter:b.depthCounter+
1,console:b.console,localScope:{}};if(64<a.depthCounter)throw Error("Exceeded maximum function depth");return P(c,a,f)})}function la(b){return function(){var a={applicationCache:void 0===b.context.applicationCache?null:b.context.applicationCache,spatialReference:b.context.spatialReference,console:b.context.console,localScope:{},depthCounter:b.context.depthCounter+1,globalScope:b.context.globalScope};if(64<a.depthCounter)throw Error("Exceeded maximum function depth");return P(b.definition,a,arguments)}}
function ma(b){}Object.defineProperty(w,"__esModule",{value:!0});var t=0,q={};X.registerFunctions(q,n);Y.registerFunctions(q,n);Z.registerFunctions(q,n);aa.registerFunctions(q,n);ba.registerFunctions(q,n);q["typeof"]=function(b,a){return n(b,a,function(a,b,d){c.pcCheck(d,1,1);a=M(d[0]);if("Unrecognised Type"===a)throw Error("Unrecognised Type");return a})};q.iif=function(b,a){try{c.pcCheck(null===a.arguments?[]:a.arguments,3,3);var f=g(b,a.arguments[0]);if(!1===c.isBoolean(f))throw Error("IF Function must have a boolean test condition");
return!0===f?g(b,a.arguments[1]):g(b,a.arguments[2])}catch(e){throw e;}};q.decode=function(b,a){try{if(2>a.arguments.length)throw Error("Missing Parameters");if(2===a.arguments.length)return g(b,a.arguments[1]);if(0===(a.arguments.length-1)%2)throw Error("Must have a default value result.");var c=g(b,a.arguments[0]);return N(b,a,1,c)}catch(e){throw e;}};q.when=function(b,a){try{if(3>a.arguments.length)throw Error("Missing Parameters");if(0===a.arguments.length%2)throw Error("Must have a default value result.");
var f=g(b,a.arguments[0]);if(!1===c.isBoolean(f))throw Error("WHEN needs boolean test conditions");return O(b,a,0,f)}catch(e){throw e;}};q.top=function(b,a){return n(b,a,function(a,b,d){if(c.pcCheck(d,2,2),c.isArray(d[0]))return c.toNumber(d[1])>=d[0].length?d[0].slice(0):d[0].slice(0,c.toNumber(d[1]));if(c.isImmutableArray(d[0]))return c.toNumber(d[1])>=d[0].length()?d[0].slice(0):d[0].slice(0,c.toNumber(d[1]));throw Error("Top cannot accept this parameter type");})};q.first=function(b,a){return n(b,
a,function(a,b,d){return c.pcCheck(d,1,1),c.isArray(d[0])?0===d[0].length?null:d[0][0]:c.isImmutableArray(d[0])?0===d[0].length()?null:d[0].get(0):null})};q.sort=function(b,a){return n(b,a,function(a,b,d){c.pcCheck(d,1,2);a=d[0];if(c.isImmutableArray(a)&&(a=a.toArray()),!1===c.isArray(a))throw Error("Illegal Argument");if(1<d.length){if(!1===c.isFunctionParameter(d[1]))throw Error("Illegal Argument");var f=la(d[1]);return a=v(a,function(a,b){return f(a,b)})}if(0===a.length)return[];d={};for(b=0;b<
a.length;b++){var e=M(a[b]);""!==e&&(d[e]=!0)}if(!0===d.Array||!0===d.Dictionary||!0===d.Feature||!0===d.Point||!0===d.Polygon||!0===d.Polyline||!0===d.Multipoint||!0===d.Extent||!0===d.Function)return a.slice(0);b=0;var e="",g;for(g in d)b++,e=g;return a=1<b||"String"===e?v(a,function(a,b){if(null===a||void 0===a||a===c.voidOperation)return null===b||void 0===b||b===c.voidOperation?0:1;if(null===b||void 0===b||b===c.voidOperation)return-1;a=c.toString(a);b=c.toString(b);return b>a?-1:a===b?0:1}):
"Number"===e?v(a,function(a,b){return a-b}):"Boolean"===e?v(a,function(a,b){return a===b?0:b?-1:1}):"Date"===e?v(a,function(a,b){return b-a}):a.slice(0)})};w.functionHelper={fixSpatialReference:c.fixSpatialReference,parseArguments:J,standardFunction:n};w.executeScript=function(b,a,f){f||(f=new W(102100));var e=a.vars,d=a.customfunctions,k={};e||(e={});d||(d={});var h=new y({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});h.immutable=!1;k.textformatting=
{value:h,valueset:!0,node:null};k.infinity={value:Number.POSITIVE_INFINITY,valueset:!0,node:null};k.pi={value:Math.PI,valueset:!0,node:null};for(var n in q)k[n]={value:new c.NativeFunction(q[n]),valueset:!0,node:null};for(n in d)k[n]={value:new c.NativeFunction(d[n]),"native":!0,valueset:!0,node:null};for(n in e)e[n]instanceof R?k[n]={value:new z(e[n]),valueset:!0,node:null}:k[n]={value:e[n],valueset:!0,node:null};b=g({spatialReference:f,globalScope:k,localScope:null,console:a.console?a.console:ma,
depthCounter:1,applicationCache:void 0===a.applicationCache?null:a.applicationCache},b.body[0].body);if(b instanceof c.ReturnResult&&(b=b.value),b instanceof c.ImplicitResult&&(b=b.value),b===c.voidOperation&&(b=null),b===c.breakResult)throw Error("Cannot return BREAK");if(b===c.continueResult)throw Error("Cannot return CONTINUE");if(b instanceof E)throw Error("Cannot return FUNCTION");if(b instanceof c.NativeFunction)throw Error("Cannot return FUNCTION");return b};w.extractFieldLiterals=function(b,
a){return void 0===a&&(a=!1),h.findFieldLiterals(b,a)};w.validateScript=function(b,a){return h.validateScript(b,a,"simple")};w.referencesMember=function(b,a){return h.referencesMember(b,a)};w.referencesFunction=function(b,a){return h.referencesFunction(b,a)}});