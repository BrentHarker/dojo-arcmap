//>>built
define("require exports dojo/has ./Store ./PropertyOrigin ./extensions ../Logger".split(" "),function(g,h,k,l,e,m,n){function f(b,a){return a.metadatas[b]?!0:(k("dojo-debug-messages")&&p.warn("cannot access unknown property '"+b+"' on instance of "+a.host.declaredClass+"."),!1)}Object.defineProperty(h,"__esModule",{value:!0});var p=n.getLogger("esri.core.Accessor"),q=0;g=function(){function b(a){this.host=a;this._origin=e.OriginId.USER;this.cursors={};this.ctorArgs=null;this.destroyed=!1;this.dirties=
{};this.initialized=!1;this.metadatas=this.host.constructor.__accessorMetadata__;this.overridden=null;this.store=new l["default"];Object.defineProperty(this,"uid",{value:q++})}return b.prototype.initialize=function(){this.initialized=!0;m.instanceCreated(this.host,this.metadatas)},b.prototype.destroy=function(){this.destroyed=!0;for(var a=this.cursors,c=0,d=Object.getOwnPropertyNames(a);c<d.length;c++){var b=d[c],e=a[b];if(e){for(;0<e.length;)e.pop().propertyDestroyed(this,b);a[b]=null}}},b.prototype.clearOverride=
function(a){this.isOverridden(a)&&(this.overridden[a]=!1,this.propertyInvalidated(a))},b.prototype.get=function(a){f(a,this);var c=this.metadatas[a];if(this.store.has(a)&&1==!this.dirties[a])return this.store.get(a);var d=c.get;return d?(c=d.call(this.host),this.store.set(a,c,e.OriginId.COMPUTED),this.propertyCommitted(a),c):c.value},b.prototype.originOf=function(a){var c=this.store.originOf(a);return void 0===c&&(a=this.metadatas[a])&&a.hasOwnProperty("value")?"defaults":e.idToName(c)},b.prototype.has=
function(a){return this.metadatas[a]?this.store.has(a):!1},b.prototype.internalGet=function(a){if(f(a,this)){var c=this.store;return c.has(a)?c.get(a):this.metadatas[a].value}},b.prototype.internalSet=function(a,c){f(a,this)&&(this.propertyInvalidated(a),this.initialized?this.store.set(a,c,this._origin):this.store.set(a,c,e.OriginId.DEFAULTS),this.propertyCommitted(a))},b.prototype.isOverridden=function(a){return null!=this.overridden&&!0===this.overridden[a]},b.prototype.keys=function(){return this.store.keys()},
b.prototype.override=function(a,c){f(a,this)&&(this.overridden||(this.overridden={}),this.overridden[a]=!0,this.internalSet(a,c))},b.prototype.set=function(a,c){if(f(a,this)){var d=this.metadatas[a],b=d.set;(d=d.cast)&&(c=d.call(this.host,c));b?b.call(this.host,c):this.internalSet(a,c)}},b.prototype.setDefaultOrigin=function(a){this._origin=e.nameToId(a)},b.prototype.propertyInvalidated=function(a){var c=this.cursors[a];if(c)for(var b=0;b<c.length;b++)c[b].propertyInvalidated(this,a);this.isOverridden(a)||
(this.dirties[a]=!0)},b.prototype.propertyCommitted=function(a){this.dirties[a]=!1;var c=this.cursors[a];if(c)for(var b=0;b<c.length;b++)c[b].propertyCommitted(this,a)},b.prototype.addCursor=function(a,c){var b=this.cursors[a];b||(this.cursors[a]=b=[]);b.push(c)},b.prototype.removeCursor=function(a,b){var c=this.cursors[a];this.cursors[a]&&(c.splice(c.indexOf(b),1),0===c.length&&(this.cursors[a]=null))},b}();h["default"]=g});