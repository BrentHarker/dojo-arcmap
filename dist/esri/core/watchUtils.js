//>>built
define(["require","exports","dojo/Deferred","dojo/promise/Promise"],function(y,e,w,x){function l(a,b,d,c,e){e=a.watch(b,function(b,e,g,h){c&&!c(b)||d.call(a,b,e,g,h)},e);var m=a.get(b);return c&&c(m)&&d.call(a,m,m,b,a),e}function f(a,b,d,c,e){function m(){k&&(k.remove(),k=null)}var k,f=!1,g=new w(m),h=new x;return h.cancel=g.cancel,h.isCanceled=g.isCanceled,h.isFulfilled=g.isFulfilled,h.isRejected=g.isRejected,h.isResolved=g.isResolved,h.then=g.then,h.remove=m,Object.freeze(h),k=l(a,b,function(b,
c,e,k){f=!0;m();d&&d.call(a,b,c,e,k);g.resolve({value:b,oldValue:c,propertyName:e,target:k})},c,e),f&&k.remove(),h}function n(a){return!!a}function p(a){return!a}function q(a){return!0===a}function r(a){return!1===a}function t(a){return void 0!==a}function u(a){return void 0===a}function v(a,b,d,c){return(Array.isArray(b)?b:-1<b.indexOf(",")?b.split(","):[b]).forEach(function(b){b=b.trim();var c=a.get(b);d.call(a,c,c,b,a)}),a.watch(b,d,c)}Object.defineProperty(e,"__esModule",{value:!0});e.init=v;
e.watch=function(a,b,d,c){return a.watch(b,d,c)};e.once=function(a,b,d,c){return f(a,b,d,null,c)};e.when=function(a,b,d,c){return l(a,b,d,n,c)};e.whenOnce=function(a,b,d,c){return f(a,b,d,n,c)};e.whenNot=function(a,b,d,c){return l(a,b,d,p,c)};e.whenNotOnce=function(a,b,d,c){return f(a,b,d,p,c)};e.whenTrue=function(a,b,d,c){return l(a,b,d,q,c)};e.whenTrueOnce=function(a,b,d,c){return f(a,b,d,q,c)};e.whenFalse=function(a,b,d,c){return l(a,b,d,r,c)};e.whenFalseOnce=function(a,b,d,c){return f(a,b,d,r,
c)};e.whenDefined=function(a,b,d,c){return l(a,b,d,t,c)};e.whenDefinedOnce=function(a,b,d,c){return f(a,b,d,t,c)};e.whenUndefined=function(a,b,d,c){return l(a,b,d,u,c)};e.whenUndefinedOnce=function(a,b,d,c){return f(a,b,d,u,c)};e.pausable=function(a,b,d,c){var e=!1;return{remove:a.watch(b,function(b,c,k,g){e||d.call(a,b,c,k,g)},c).remove,pause:function(){e=!0},resume:function(){e=!1}}};e.on=function(a,b,d,c,e,f,l){function k(){h&&(f&&f(g,b,a,d),h.remove(),h=null,g=null)}var g=null,h=null,m=v(a,b,
function(f){k();f&&f.on&&(g=f,h=f.on(d,c),e&&e(g,b,a,d))},l);return{remove:function(){m.remove();k()}}}});